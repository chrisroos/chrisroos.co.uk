<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Apple macOS version 5.6.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <link href="/images/favicon.gif" rel="icon">
  <link href="http://feeds.feedburner.com/DeferredUntilInspirationHits" rel="alternate" title="RSS" type="application/rss+xml">
  <link href="/stylesheets/reset.css" media="all" rel="stylesheet" type="text/css">
  <link href="/stylesheets/congobongo.css" media="all" rel="stylesheet" type="text/css">
  <title>Moving my timelapse app from Heroku to AWS - Chris Roos</title>
  <link href="/blog/2013-09-15-time-slice-images-of-the-thames" rel="prev">
  <link href="/blog/2013-10-15-deploying-rails-apps-using-recap-apache-and-passenger" rel="next">
  <link href="/blog/2005-09-06-linspire" rel="first">
  <link href="/blog/2015-11-20-confusing-git-log-behaviour" rel="last">
  <link href="/blog" rel="index">
  <meta content="I ran into some of the limits with the free Heroku plan and moved the app to AWS" name="description">
</head>
<body>
  <div id="page">
    <div class="group" id="header">
      <p id="site_name"><a href="/">chris roos</a></p>
    </div>
    <div id="content">
      <abbr class="createdAt" title="2013-10-13T17:08:54+00:00">Sun, 13 Oct 13</abbr>
      <h1>Moving my timelapse app from Heroku to AWS</h1>
      <p>I love <a href="https://www.heroku.com/">Heroku</a> and tend to use the free resources to deploy apps when they’re in their very early stages of development. I have a few things that I continue to use Heroku for but unfortunately ran into some of the limits with the <a href="https://github.com/chrisroos/thames-time-lapse">Thames Time Lapse project</a>.</p>
      <p>The first limitation was the number of rows in the free development database. The dev plan gives you 10,000 rows for free but I managed to get up to around 150,000 before receiving a warning email from Heroku. I only create around 1,000 rows a day, and I’m nowhere near 150 days in, so I’d obviously screwed up somewhere along the line.</p>
      <p>Another limitation was in my use of the <a href="http://rubygems.org/gems/s3">S3 gem</a> to find the new images that had been uploaded to S3. As far as I can tell the gem doesn’t understand S3 folders which meant that I had to scan the entire S3 bucket looking for new images. As more were uploaded, so this took longer and longer which just wasn’t sustainable. Moving to AWS has allowed me to use the excellent <a href="http://s3tools.org/s3cmd">s3cmd</a> command line interface to greatly improve the performance of looking for new images.</p>
      <p>Finally, having the app running on AWS should also make it easier to use imagemagick to create smaller versions of the images, and ffmpeg to automatically create a timelapse of each day of images.</p>
      <p>Instructions for settings up an AWS instance (I’m using a free micro instance) are in the README of the application should you be so inclined to play along.</p>
      <hr>
      <ul class="navigation group">
        <li class="previousPost">« (older) <a class="previousPost" href="/blog/2013-09-15-time-slice-images-of-the-thames" rel="prev" title="Time slice images of the Thames">Time slice images of the Thames</a>
        </li>
        <li class="nextPost">
          <a class="nextPost" href="/blog/2013-10-15-deploying-rails-apps-using-recap-apache-and-passenger" rel="next" title="Deploying Rails apps using Recap, Apache and Passenger">Deploying Rails apps using Recap, Apache and Passenger</a> (newer) »
        </li>
      </ul>
    </div>
    <div id="footer">
      <p class="license"><a href="http://creativecommons.org/licenses/by/2.0/uk/" rel="license"><img alt="Creative Commons Licence" src="https://i.creativecommons.org/l/by/2.0/uk/80x15.png" style="border-width:0"></a><br>
      This work is licensed under a <a href="http://creativecommons.org/licenses/by/2.0/uk/" rel="license">Creative Commons Attribution 2.0 UK: England & Wales License</a> .</p>
    </div>
  </div>
</body>
</html>
