<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Apple macOS version 5.6.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <link href="/images/favicon.gif" rel="icon">
  <link href="http://feeds.feedburner.com/DeferredUntilInspirationHits" rel="alternate" title="RSS" type="application/rss+xml">
  <link href="/stylesheets/reset.css" media="all" rel="stylesheet" type="text/css">
  <link href="/stylesheets/congobongo.css" media="all" rel="stylesheet" type="text/css">
  <title>Day notes - Mon 10th Jan 2011 - Chris Roos</title>
  <link href="/blog/2011-01-09-day-notes" rel="prev">
  <link href="/blog/2011-01-11-day-notes" rel="next">
  <link href="/blog/2005-09-06-linspire" rel="first">
  <link href="/blog/2015-11-20-confusing-git-log-behaviour" rel="last">
  <link href="/blog" rel="index">
  <meta content="Notes from Monday 10th January 2011" name="description">
</head>
<body>
  <div id="page">
    <div class="group" id="header">
      <p id="site_name"><a href="/">chris roos</a></p>
      <ul class="navigation group">
        <li>
          <a href="/blog" title="Blog">blog</a>
        </li>
      </ul>
    </div>
    <div id="content">
      <abbr class="createdAt" title="2011-01-10T22:29:53+00:00">Mon, 10 Jan 11</abbr>
      <h1>Day notes - Mon 10th Jan 2011</h1>
      <p><a href="http://kalv.co.uk/">Kalv</a> and I spent a good few hours trying to work out why <a href="http://www.openswan.org/">Openswan</a> wasn’t starting when one of our Ubuntu servers rebooted. We eventually came across two bugs in the Ubuntu openswan package that were causing us problems.</p>
      <p>The first, <a href="https://bugs.launchpad.net/ubuntu/+source/openswan/+bug/554592">bug 554592</a>, appears to be due to the openswan package mis-configuring the runlevels for the ipsec script (at least that’s my understanding). The effect is that the process doesn’t close down cleanly on a reboot and is therefore unable to start again. As the bug report states, you can either run <code>ipsec restart</code> after boot or more permanently modify the runlevels. We’ve chosen to update our puppet scripts to modify the runlevels.</p>
      <p>The second, <a href="https://bugs.launchpad.net/ubuntu/+source/openswan/+bug/526452">bug 526452</a>, appears to be due to a bug in the _realsetup script. It expects the /var/lock/subsys directory to exist and ends up reporting confusing information if it doesn’t. We’ve fixed this by modifying our puppet script, which in turn modifies the ipsec script, to ensure this directory exists.</p>
      <p>It was pretty windy on the cycle home tonight. I struggled at times with my bike as it is currently. That should be fun with the new chainring on.</p>
      <hr>
      <ul class="navigation group">
        <li class="previousPost">« (older) <a class="previousPost" href="/blog/2011-01-09-day-notes" rel="prev" title="Day notes - Sun 9th Jan 2011">Day notes - Sun 9th Jan 2011</a>
        </li>
        <li class="nextPost">
          <a class="nextPost" href="/blog/2011-01-11-day-notes" rel="next" title="Day notes - Tue 11th Jan 2011">Day notes - Tue 11th Jan 2011</a> (newer) »
        </li>
      </ul>
    </div>
    <div id="footer">
      <p class="license"><a href="http://creativecommons.org/licenses/by/2.0/uk/" rel="license"><img alt="Creative Commons Licence" src="https://i.creativecommons.org/l/by/2.0/uk/80x15.png" style="border-width:0"></a><br>
      This work is licensed under a <a href="http://creativecommons.org/licenses/by/2.0/uk/" rel="license">Creative Commons Attribution 2.0 UK: England & Wales License</a> .</p>
    </div>
  </div>
</body>
</html>
